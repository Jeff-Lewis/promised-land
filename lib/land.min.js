/*
* The MIT License (MIT)
* 
* Copyright (c) 2014 FredyC (https://github.com/FredyC/promised-land/)
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
* 
* Version: 0.2.0
*/
"use strict";var e,r,t,n;t=require("bluebird"),e=require("baconjs"),r=require("eventemitter2").EventEmitter2,n=function(){var o,i,u,c,l;return i=Object.create(r.prototype),i.constructor=n,r.call(i,{wildcard:!1}),c=Object.create(null),i.promise=function(e,r){if(!arguments.length||null===e)return t.reject(new TypeError("missing event argument for promise call"));if("object"==typeof r){if("function"!=typeof r.once)throw new TypeError("specified emitter is missing once method");return new t(function(t,n){return r.once(e,function(e){return u(e,t,n)})})}return c[e]?c[e]:c[e]=new t(function(r,t){return i.once(e,function(e){return u(e,r,t)})})},i.promiseAll=function(){var e;return Array.prototype.reduce.call(arguments,function(e,r){return r&&e.push(i.promise(r)),e},e=[]),e.length?t.all(e):t.reject(new TypeError("no arguments given for promiseAll call"))},u=function(e,r,t){return e instanceof Error?t(e):r(e)},l=Object.create(null),i.stream=function(r){var t;return(t=l[r])||(l[r]=t=e.fromEventTarget(this,r)),t},o=i.emit,i.emit=function(e){var r;return c[e]||(r=arguments.length>2?Array.prototype.slice.call(arguments,1):arguments[1],c[e]=new t(u.bind(null,r))),o.apply(i,arguments)},i},module.exports=n(),module.exports.create=function(){return n()},module.exports.Promise=t,module.exports.Bacon=e;